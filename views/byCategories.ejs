<h1 class="pb-4">Explore <%= products[0].type.name %></h1>

<nav aria-label="breadcrumb">
  <ol class="breadcrumb">
    <li class="breadcrumb-item"><a href="/">Home</a></li>
    <li class="breadcrumb-item">
      <a href="/categories">Categories</a>
    </li>
    <li class="breadcrumb-item active" aria-current="page">By Category</li>
  </ol>
</nav>

<div class="row row-cols-2 row-cols-lg-3 g-2 g-lg-5 mb-4">
  <% if (typeof products !== 'undefined' && products.length > 0) { %> <%
  products.forEach(product => { %>
  <a href="/product/<%= product.id %>" class="col text-center category__link">
    <div class="category__img category__img--large shadow">
      <img src="" alt="<%= product.name %>" loading="lazy" />
    </div>
    <div class="pt-1"><%= product.name %></div>
  </a>
  <% }) %> <% } else { %>
  <p>No products found</p>
  <% } %>
</div>
<nav aria-label="Page navigation">
  <ul class="pagination justify-content-center">
    <% if (previousPage === 0) { %>
    <li class="page-item" disabled>
      <a class="page-link">Previous</a>
    </li>
    <% } else { %>
    <li class="page-item">
      <a
        class="page-link"
        href="/categories/<%= products[0].type._id %>/?page=<%= previousPage %>"
        >Previous</a
      >
    </li>
    <% } %> <% for( let i = 1; i <= totalPages; i++ ) { %>
    <li class="page-item">
      <a
        class="page-link"
        href="/categories/<%= products[0].type._id %>/?page=<%- i %>"
        ><%- i %></a
      >
    </li>
    <% } %> <% if (parseInt(nextPage) === parseInt(totalPages) + 1) { %>
    <li class="page-item" disabled>
      <a class="page-link">Next</a>
    </li>
    <% } else { %>
    <li class="page-item">
      <a
        class="page-link"
        href="/categories/<%= products[0].type._id %>/?page=<%= nextPage %>"
        >Next</a
      >
    </li>
    <% } %>
  </ul>
</nav>
